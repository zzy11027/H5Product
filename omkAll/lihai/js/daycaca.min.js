var daycaca=function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){return"number"==typeof t},i=/\.(png|jpeg|jpg|gif|bmp)/,o={ratio:1,enableWebWorker:!1};t.exports={setConfig:function(t){this._config=Object.assign(o,t)},init:function(t,e){var r=this,a=this._createImage(t);a.onload=function(){var t=r._getCanvas(a.naturalWidth,a.naturalHeight);t.getContext("2d").drawImage(a,0,0);var n=t.toDataURL();e(n)}},base64:function(t,e){var r=this._getSrc(t),a=r.src;return"file"===r.type?this._readFile(a,e):this.init(a,e)},compress:function(t,e,r){var a=this,n=this._getSrc(t),i=n.src;if("file"===n.type)return this._readFile(i,function(n){a._compress(i,t,e,r)});this._compress(i,t,e,r)},_compress:function(t,e,r,a){var n=this;this._loadImage(t,function(t){var i=n._getImageType(e),o=n._getCanvas(t.naturalWidth,t.naturalHeight);o.getContext("2d").drawImage(t,0,0);var s=o.toDataURL(i,r/100);a(s)})},_readFile:function(t,e){var r=new FileReader;r.onload=function(t){var r=t.target.result;e(r)},r.readAsDataURL(t)},crop:function(t,e,r){var a=this,n=this._getSrc(t),i=n.src;if("file"===n.type)return this._readFile(i,function(n){a._crop(i,t,e,r)});this._crop(i,t,e,r)},_crop:function(t,e,r,a){var i=this;this._loadImage(t,function(t){if(n(r.x)&&n(r.y)&&r.w>0&&r.h>0){var o=r.w,s=r.h;r.maxWidth&&r.maxWidth<o&&(o=r.maxWidth,s=r.h*o/r.w),r.maxHeight&&r.maxHeight<s&&(s=r.maxHeight);var c=i._getCanvas(o,s),u=(c.getContext("2d").drawImage(t,r.x,r.y,r.w,r.h,0,0,o,s),i._getImageType(e)),g=c.toDataURL(u,r.compress/100);a(g)}})},resize:function(t,e,r){var a=this,n=this._getSrc(t),i=n.src;if("file"===n.type)return this._readFile(i,function(e){a._resize(i,t,options,r)});this._resize(i,t,options,r)},_resize:function(t,e,r,a){var i=this;this._loadImage(t,function(t){if(n(r.toCropImgX)&&n(r.toCropImgY)&&r.toCropImgW>0&&r.toCropImgH>0){var o=r.toCropImgW*r.imgChangeRatio,s=r.toCropImgH*r.imgChangeRatio,c=i._getCanvas(o,s),u=(c.getContext("2d").drawImage(t,0,0,r.toCropImgW,r.toCropImgH,0,0,o,s),i._getImageType(e)),g=c.toDataURL(u,r.compress/100);a(g)}})},rotate:function(t,e,r){var a=this,n=this._getSrc(t),i=n.src;return"file"===n.type?this._readFile(i,function(n){a._rotate(i,t,e,r)}):e%360==0?r(i):void this._rotate(i,t,e,r)},_rotate:function(t,e,r,a){var n=this;this._loadImage(t,function(t){var i=t.naturalWidth,o=t.naturalHeight;90!=(r%=360)&&270!=r||(i=t.naturalHeight,o=t.naturalWidth);var s=n._getCanvas(i,o),c=s.getContext("2d");c.clearRect(0,0,i,o),c.fillStyle="white",c.fillRect(0,0,i,o),c.translate(i/2,o/2),c.rotate(r*Math.PI/180),c.drawImage(t,-t.naturalWidth/2,-t.naturalHeight/2);var u=n._getImageType(e),g=s.toDataURL(u,1);a(g,i,o),s=null,c=null})},_loadImage:function(t,e){var r=this._createImage(t);r.onload=function(){e(r)}},_getCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},_createImage:function(t){var e=new Image;return e.src=t,e},_getSrc:function(t){var e=t,r="url";if(this._isImageElement(t)){var a=t.src;if(!a)return console.error("Element must hava src");e=a,r="element"}else this._isFileObject(t)&&(e=t,r="file");return{src:e,type:r}},_isFileObject:function(t){return"object"===(void 0===t?"undefined":a(t))&&t.type&&t.size>0},_isImageElement:function(t){return"object"===(void 0===t?"undefined":a(t))&&"IMG"===t.tagName},_getImageType:function(t){var e=this._getSrc(t),r=e.src,a=e.type,n="image/jpeg";if("file"===a){var o=str.match(/(image\/[\w]+)\.*/)[0];void 0!==o&&(n=o)}else{var s=i.exec(r);s&&s[1]&&(n="image/"+s[1])}return n}}}]);